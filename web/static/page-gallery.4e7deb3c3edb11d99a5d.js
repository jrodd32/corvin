(window["webpackJsonpcorvin"]=window["webpackJsonpcorvin"]||[]).push([[8],{GyM1:function(e,t,a){"use strict";var n=a("H0Xo");var o=a.n(n);var r=o.a},H0Xo:function(e,t,a){},KwuT:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a.d(t,"b",(function(){return c}));var n=a("4Brf");var o=a.n(n);var r=a("EnZy");var i=a.n(r);const s={props:{forceAjax:{type:Boolean,default(){return false}}},data(){return{data:{},handle:null,loadedViaJson:false,loading:!(window.data&&window.data.page&&window.data.page.url&&window.data.page.url===window.location.href.split("?")[0]),slug:null,url:null}},created(){this.loadData()},beforeMount(){if(this.loadedViaJson){this.loading=false}},activated(){this.updateHead()},methods:{afterLoadData(){},loadData(e=null,t=true){if(!this.forceAjax){if(window.data&&window.data.page&&window.data.page.url&&window.data.page.url===window.location.href.split("?")[0]){this.data=window.data.page;this.loadedViaJson=true;this.afterLoadData();if(t){this.updateHead()}return}}const a=window.location.pathname.split("/");a.shift();let n=a[0];let o=a[1];let r=a[2];if(n.length===0){n="home"}if(this.handle){n=this.handle}if(this.slug){o=this.slug}let i=o===undefined?"".concat(n):"".concat(n,"/").concat(o);i=r===undefined?i:"".concat(n,"/").concat(o,"/").concat(r);this.$axios.get(e||this.url||"/v1/".concat(i)).then(e=>{this.data=e.data;if(this.data.status){this.loading=false;return}this.afterLoadData();if(t){this.updateHead()}this.loading=false;if(this.$prerender){this.$eventBus.$emit("page-loaded",this.data.lastUpdated)}}).catch(e=>{if(e.response){console.log("Data:");console.log(e.response.data);console.log("Status:");console.log(e.response.status);console.log("Headers:");console.log(e.response.headers)}else if(e.request){console.log("Request:");console.log(e.request)}else{console.log("Error",e.message)}console.log("Config:");console.log(e.config);if(e.response&&e.response.status===404){this.$eventBus.$emit("error",404);return}this.$eventBus.$emit("error",500,e)})},updateHead(){let e="Corvin's Furniture of Bardstown";let t="";let a="".concat(this.$cdnUrl,"/images/og-image.jpg");if(this.data&&this.data.meta&&this.data.meta.title){e="".concat(this.data.meta.title)}if(this.data&&this.data.meta&&this.data.meta.description){t=this.data.metaDescription}if(this.data&&this.data.meta&&this.data.meta.socialImage&&this.data.meta.socialImage.url){a=this.data.socialImage.url}document.title=e;document.head.querySelector('meta[property="og:title"]').content=e;document.head.querySelector('meta[name="twitter:title"]').content=e;document.head.querySelector('meta[itemprop="name"]').content=e;document.head.querySelector('meta[name="description"]').content=t;document.head.querySelector('meta[property="og:description"]').content=t;document.head.querySelector('meta[name="twitter:description"]').content=t;document.head.querySelector('meta[itemprop="description"]').content=t;document.head.querySelector('meta[property="og:url"]').content=window.location.href;document.head.querySelector('meta[name="twitter:url"]').content=window.location.href;document.head.querySelector('meta[property="og:image"]').content=a;document.head.querySelector('meta[name="twitter:image:src"]').content=a;document.head.querySelector('meta[itemprop="image"]').content=a;if(this.data&&this.data.canonicalUrl){if(document.head.querySelector("[rel='canonical']")){document.head.querySelector("[rel='canonical']").href=this.data.canonicalUrl}else{const e=document.createElement("link");e.rel="canonical";e.href=this.data.canonicalUrl;document.head.appendChild(e)}}else if(document.head.querySelector("[rel='canonical']")){const e=document.head.querySelector("[rel='canonical']");e.parentNode.removeChild(e)}if(this.data){this.$eventBus.$emit("set-breadcrumb",this.data.title)}}}};const c={data(){return{metaTitle:null,metaDescription:null,socialImage:null}},created(){this.updateHead()},mounted(){if(this.$prerender){this.$eventBus.$emit("page-loaded","na")}},activated(){this.updateHead()},methods:{updateHead(){let e="Corvin Furniture of Bardstown";let t="";let a="".concat(this.$cdnUrl,"/images/og-image.jpg");if(this.metaTitle){e="".concat(this.metaTitle)}if(this.metaDescription){t=this.metaDescription}if(this.socialImage){a=this.data.socialImage}document.title=e;document.head.querySelector('meta[property="og:title"]').content=e;document.head.querySelector('meta[name="twitter:title"]').content=e;document.head.querySelector('meta[itemprop="name"]').content=e;document.head.querySelector('meta[name="description"]').content=t;document.head.querySelector('meta[property="og:description"]').content=t;document.head.querySelector('meta[name="twitter:description"]').content=t;document.head.querySelector('meta[itemprop="description"]').content=t;document.head.querySelector('meta[property="og:url"]').content=window.location.href;document.head.querySelector('meta[name="twitter:url"]').content=window.location.href;document.head.querySelector('meta[property="og:image"]').content=a;document.head.querySelector('meta[name="twitter:image:src"]').content=a;document.head.querySelector('meta[itemprop="image"]').content=a}}}},ONGt:function(e,t,a){"use strict";var n=a("RTsl");var o=a.n(n);var r=o.a},RTsl:function(e,t,a){},TqqQ:function(e,t,a){},bypC:function(e,t,a){"use strict";var n=a("TqqQ");var o=a.n(n);var r=o.a},do7L:function(e,t,a){"use strict";var n=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"page-hero",class:e.modifiers},[a("div",{staticClass:"page-hero-content is-contained content-wrapper"},[e.hasHeadline?a("h1",{domProps:{innerHTML:e._s(e.hero.headline)}}):e._e(),e._v(" "),e.hasContent?a("div",{staticClass:"page-hero-intro"},[a("div",{domProps:{innerHTML:e._s(e.hero.content)}})]):e._e()]),e._v(" "),e.hasMedia?a("div",{staticClass:"page-hero-media"},[a("img",{attrs:{alt:e.hero.backgroundImage.alt,src:e.hero.backgroundImage.url}})]):e._e()])};var o=[];var r={props:{hero:{type:Object,default(){return{}}}},computed:{modifiers(){return{"has-content":this.hasContent,"has-media":this.hasMedia}},hasContent(){return this.hero&&"content"in this.hero&&this.hero.content.length>0},hasHeadline(){return this.hero&&"headline"in this.hero&&this.hero.headline.length>0},hasMedia(){return this.hero&&"backgroundImage"in this.hero&&"url"in this.hero.backgroundImage&&this.hero.backgroundImage.url.length>0}}};var i=r;var s=a("ONGt");var c=a("KHd+");var l=Object(c["a"])(i,n,o,false,null,"165cddb6",null);var d=t["a"]=l.exports},vgCd:function(e,t,a){"use strict";var n=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return e._m(0)};var o=[function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return a("div",{staticClass:"overlay"},[a("div",{staticClass:"wrap"},[a("div",{staticClass:"loading"},[a("div",{staticClass:"bounceball"}),e._v(" "),a("div",{staticClass:"text"},[e._v("LOADING")])])])])}];var r={};var i=r;var s=a("bypC");var c=a("KHd+");var l=Object(c["a"])(i,n,o,false,null,"e37ae440",null);var d=t["a"]=l.exports},zdxX:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this;var t=e.$createElement;var a=e._self._c||t;return e.loading?a("corvin-loading"):a("main",{staticClass:"page has-inset is-gapless gallery"},[a("corvin-page-hero",{attrs:{hero:e.data.content.hero}}),e._v(" "),e.hasImages?a("div",{staticClass:"image-gallery is-contained"},[a("transition-group",{staticClass:"thumbnails",attrs:{name:"thumbnailfade",tag:"div"}},e._l(e.data.content.gallery.galleryImages,(function(t,n){return a("figure",{key:n},[a("img",{attrs:{src:t.url,alt:t.alt,title:t.alt},on:{click:function(a){return e.showLightbox(t.url)}}})])})),0),e._v(" "),a("lightbox",{ref:"lightbox",attrs:{id:"mylightbox",directory:e.assetDir,images:e.transformedImages,timeoutDuration:5e3}})],1):e._e()],1)};var o=[];var r=a("EnZy");var i=a("KwuT");var s=a("vgCd");var c=a("do7L");var l={components:{CorvinLoading:s["a"],CorvinPageHero:c["a"]},filters:{appendDirectory(e,t){return t+e}},mixins:[i["a"]],data(){return{assetDir:"https://corvin.nyc3.digitaloceanspaces.com/gallery/",jsonUrl:"/".concat(this.$api.pages.gallery)}},computed:{hasImages(){return"content"in this.data&&"gallery"in this.data.content&&"galleryImages"in this.data.content.gallery&&this.data.content.gallery.galleryImages.length>0},transformedImages(){const e=[];this.data.content.gallery.galleryImages.forEach(t=>{e.push({name:t.url.split("/").pop()})});return e}},activated(){this.$emit("page-activated");this.$eventBus.$emit("page-loaded")},methods:{showLightbox(e){this.$refs.lightbox.show(e)}}};var d=l;var u=a("GyM1");var h=a("KHd+");var m=Object(h["a"])(d,n,o,false,null,"c16322fe",null);var g=t["default"]=m.exports}}]);